"use strict";function Test(t){function e(e){var n={};return n.to=function(n){Promise.resolve(e).then(function(e){Test.prototype.showResult(t,n,e,o)})},n.toBe=n.to,n.toHave=n.to,n}var o,n={};return n.using=function(t){return o=t,n},n["do"]=function(t){return"function"==typeof t&&t(),n},n.expect=function(t){return new e(t)},n.assert=n.expect,n}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};Test.ValidationFunction={EQUALS:function(t,e){return t===e},NOT_EQUALS:function(t,e){return t!==e},CONTAINS:function(t,e){return!!~e.indexOf(t)}},Test.Console={CONSOLE:Symbol("console"),TERMINAL:Symbol("terminal")},Test.prototype.output=null,Test.prototype.hidePassed=!1,Test.prototype.colorMethod=Test.Console.CONSOLE,Test.prototype.showResult=function(t,e,o,n){var r=Test.prototype.createResult(t,e,o,n||Test.ValidationFunction.EQUALS);if(null!==r)if(Test.prototype.output)Test.prototype.output.appendChild(r.result);else if(Test.prototype.colorMethod===Test.Console.CONSOLE)console.log("%c"+r.result,"\n\t\t\t\tcolor: "+r.bgColor+";\n\t\t\t\ttext-shadow: 0 0 1px rgba(0, 0, 0, .2);\n\t\t\t\t"+(r.passed?"":"font-size: 150%; font-weight: bold;")+"\n\t\t\t");else{var s={};r.passed?(s.bg="[49m",s.fg="[92m"):(s.bg="[101m",s.fg="[93m"),console.log(""+s.bg+s.fg+r.result+"[0m")}},Test.prototype.getResult=function(t,e,o){return t.call(void 0,e,o)},Test.prototype.createResult=function(t,e,o,n){var r=Test.prototype.getResult(n,e,o)===!0;if(Test.prototype.hidePassed&&r)return null;var s=Test.prototype.output?{wrapperBegin:"<strong>",wrapperEnd:"</strong>",newLine:"<br>",separator:""}:{wrapperBegin:'"',wrapperEnd:'"',newLine:"\n >> ",separator:"-------------------------------------\n"},i="";n!==Test.ValidationFunction.EQUALS&&(i=" (using custom validation function)");var p,u=s.separator+"Testing: "+t+i+s.newLine;if(r?(u+="[âœ”] Passed!",p="#c8e6c9"):(u+="[âœ–] Failed. Expected "+s.wrapperBegin+e+s.wrapperEnd+" ("+("undefined"==typeof e?"undefined":_typeof(e))+"), got "+s.wrapperBegin+o+s.wrapperEnd+" ("+("undefined"==typeof o?"undefined":_typeof(o))+") instead.",p="#ff8a80"),Test.prototype.output){var a=document.createElement("div");Test.prototype.stylize(a,{"line-height":"1.5em",margin:"0.5em 0",padding:"0.5em",background:p}),a.insertAdjacentHTML("beforeend",u),u=a}return{result:u,passed:r,bgColor:p}},Test.prototype.stylize=function(t,e){Object.keys(e).forEach(function(o){t.style[o]=e[o]})},Test.config=function(){var t={};return t.output=function(t){t instanceof HTMLElement&&(Test.prototype.output=t)},t.hidePassed=function(t){Test.prototype.hidePassed=t,t&&console.warn("Passed tests are hidden!")},t.colorMethod=function(t){Test.prototype.colorMethod=t},t}(),"undefined"!=typeof module&&!function(){Test.config.colorMethod(Test.Console.TERMINAL);var t=require("fs"),e=require("vm"),o=function(o,n){var r=o+"/"+n;e.runInThisContext(t.readFileSync(r,"utf8"),r)};module.exports={Test:Test,inject:o}}();